extends layout
block scripts
    script(src='/js/singleRecruit.js')
    script(src='/js/bootstrap.min.js')
block content
  mixin navbar-mixin()
  div.container.max-width-600
    div.recruit-info
      if recruit.archived
        span.label.label-default.archived-label Archived
      h2= recruit.name
      p
          em Class of #{recruit.classYear}
          span  | 
          em Power Index #{recruit.powerIndex}
      div.updateable-information
          p
              strong Email 
              em= recruit.email || "None"
          strong Comments
          p= recruit.comments || "None"
          if isAdmin
              button.btn.update-btn.btn-sm#update-form-btn Update Info
      if isAdmin
          div.update-form-container
              div.error
              div.form-group
                  label Email
                  input(type="email", name="email", value=recruit.email).form-control#recruit-email
              div.form-group
                  label Comments
                  textarea(name="comments").form-control#recruit-comments= recruit.comments
              button.btn.update-btn.btn-sm#submit-recruit-update.margin-right-5 Update
              button.btn.btn-default.btn-sm#cancel-update Cancel
      hr.hr-margin
      div.times
          h3 Times
          div.times-table-wrapper
              table.table-striped.single-recruit-times
                tr
                  th Event
                  th Time
                  th Points
                  th.mobile-hidden Natl
                  th.mobile-hidden Team
                  th.mobile-hidden Standard
                for time in recruit.times
                  tr
                    td=time.eventName
                    td=time.timeString
                    td=time.points || "-"
                    td.mobile-hidden=time.nationalRank || "-"
                    if time.teamRank
                      if time.behind || time.inFrontOf
                        td.mobile-hidden
                          - content = ""
                          if time.behind
                            - content = content + (time.teamRank - 1) + " " + time.behind.swimmer+" (-" + (time.time - time.behind.time).toFixed(2) + ")<hr>"
                          - content = content + (time.teamRank) + " " + recruit.name
                          if time.inFrontOf
                            - content = content +"<hr>"+ (time.teamRank + 1) + " " + time.inFrontOf.swimmer+ " (+" + (time.inFrontOf.time - time.time).toFixed(2) + ")"
                          span(data-toggle="hover", data-content=content, style="cursor: pointer")=time.teamRank
                      else
                        td.mobile-hidden= time.teamRank
                    else
                      td.mobile-hidden -
                    td.mobile-hidden= time.standard || "-"
    include navbar-mixin
